angular.module("Pelican",[]),angular.module("Pelican").controller("BannerController",["$scope","apiService","validator",function(a,b,c){a.init=function(b,c){console.log(arguments),b&&(a.user=b),console.log(a.user)},a.closeListModal=function(){a.isListModalOpen=!1},a.addList=function(c){return c?void b.addList(c).then(function(b){alertify.success("New list created!"),a.displayPostInput=!0,a.activeList=b.data,console.info(b)}).catch(function(a){console.error(a),alertify.error("Could not save your new list :(")}):alertify.error("Please add a list title to create one.")},a.addPost=function(d){try{c.validateNewPost(a.activeList,d)}catch(a){return alertify.error(a)}b.addPost(d,a.activeList).then(function(a){console.info(a),alertify.success("New post created!")}).catch(function(a){console.error(a),alertify.error("Could not save your post :(")})}}]),angular.module("Pelican").controller("HomeController",["$scope",function(a){a.name="Daniel"}]),angular.module("Pelican").factory("apiService",["$http",function(a){var b={};return b.addList=function(b){return a.post("/api/list",{title:b})},b.addPost=function(b,c){var d=b;return d.parentList=c._id,console.warn(d),a.post("/api/post",d)},b}]),angular.module("Pelican").factory("validator",[function(){var a={};return a.validateNewPost=function(a,b){if(!a)throw"Please choose a list before trying to save a new post.";if(!b||!b.title)throw"Please add a name to your post"},a}]),angular.module("Pelican").directive("sendTo",[function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(a){c.sendTo&&(window.location=c.sendTo)})}}}]);