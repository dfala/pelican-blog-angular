<section class="modal-container" ng-show="isListModalOpen" ng-controller="ComposeModalController" ng-cloak>
  <div class="modal-backdrop" ng-click="closeListModal()"></div>

  <div class="modal list-modal">
    <h1>Add details</h1>

    <div class="icon ion-android-close pointer" ng-click="closeListModal()"></div>
    <div class="go-back ion-android-arrow-back" ng-if="activeList" ng-click="backToList()"></div>

    <div class="list-search relative" ng-show="!activeList">
      <input type="text" placeholder="Search list..." ng-model="query" escape-search/>
      <div class="icon ion-android-close pointer" ng-if="query" ng-click="$parent.searchQuery = ''"></div>
    </div>

    <div class="lists">
      <div ng-repeat="list in lists | filter:query" ng-show="!activeList">
        <div class="list" ng-click="activateList(list)">
          {{list.title}}
        </div>
      </div>
    </div>

    <div class="add-list" ng-show="!activeList">
      <input type="text" placeholder="List Name" ng-model="listTitle"/>
      <button class="cta" ng-click="addList(listTitle)">Create new list</button>
    </div>

    <div class="body" ng-show="activeList">
      <input type="text" placeholder="Name" ng-model="newPost.title" />
      <input type="text" placeholder="Link" ng-model="newPost.link" />
      <textarea placeholder="Thoughts" ng-model="newPost.text"></textarea>

      <button class="cta" ng-click="addPost(newPost)">Post it!</button>
    </div>
  </div>
</section>
